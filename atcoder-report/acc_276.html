<!DOCTYPE html>
<html lang="ja" prefix="og: http://ogp.me/ns#">

<head>
  <meta charset="UTF-8">
  <title>AtCoder記録簿</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="ょゎょゎプログラマのメモ帳">
  <!-- ! -->
  <link rel="stylesheet" href="../css/acc_276.css">
  <!-- ! -->
  <link rel="stylesheet" href="../prism/prism.css">
  <script src="../prism/prism.js"></script>
  <script src="../fontawesomejs/fontawesome.js" crossorigin="anonymous"></script>


  <!-- ! -->
  <meta property="og:url" content="https://xs011755.xsrv.jp/Procon/atcoder-report/acc_276.html">
  <meta property="og:title" content="AtCoder記録簿 - ABC276">
  <!-- ! -->

  <meta property="og:description" content="ょゎょゎプログラマのメモ帳">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://xs011755.xsrv.jp/Procon/images/python.png">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@arcsec_std" />
</head>


<body>

<div id="container">

<!------------header------------>

<div class="header-bg"></div>
<header>

  <h1 id="logo"><img src="../images/logo.png" alt="logo"></h1>
  <div id="menubar_hdr">
    <span></span><span></span><span></span>
  </div>


  <!------header-icon------>
  <div id="header-icon">
    <a href="https://twitter.com/arcsec_std" target="_blank"><i class="fa-brands fa-twitter"></i></a>
    <a href="https://github.com/elsy0111" target="_blank"><i class="fa-brands fa-github"></i></a>
  </div>
  <!------/header-icon------>

</header>

<!------------/header------------>
<main>

<section>

<h2>
  <span class="accent">A</span>tCoder <span class="accent">B</span>eginner
  <span class="accent">C</span>ontest 
  <!-- ! -->
  <span class="accent">276</span>
  <!-- ! -->
</h2>

<h3>目次</h3>
<div class="margin index">
  <!-- ! -->
  <div class = "dt"><a href="https://atcoder.jp/contests/abc276/tasks" target = "_blank">AtCoder Beginner Contest 276 <i class="fa-sharp fa-solid fa-link"></i></a></div>
  <div class = "dt"><a href = "#A">A - Rightmost</a><span class = "icon-ac icon">AC</span></div>
  <div class = "dt"><a href = "#B">B - Adjacency List</a><span class = "icon icon-tl">TLE</span></div>
  <div class = "dt"><a href = "#C">C - Previous Permutation</a><span class = "icon">-</span></div>
  <div class = "dt"><a href = "#D">D - Divide by 2 or 3</a><span class = "icon">-</span></div>
  <!-- ! -->
</div>
<!-- ! ---------- A問題 -------------- -->

<div class="change"></div>

<div class="new">
  <div class="dt">
    <a id = "A" href = "https://atcoder.jp/contests/abc276/tasks/abc276_a" target="_blank">
      A - Rightmost
      <i class="fa-sharp fa-solid fa-link"></i>
    </a>
    <span class="icon-ac icon">AC</span>
  </div>
</div>

<h3>- 問題 -</h3>
<p class="ques">
  英小文字からなる文字列 $S$ が与えられます。
  $S$ に $a$ が現れるならば最後に現れるのが何文字目かを出力し、現れないならば $−1$ を出力してください。
</p>

<h3>制約</h3>
<p class="ques">
  $S$ は英小文字からなる長さ $1$ 以上 $100$ 以下の文字列
</p>

<h3>入力</h3>
<p class="ques">入力は以下の形式で標準入力から与えられる。</p>
<div class="code">
  $S$
</div>

<h3>出力</h3>
<p class="ques">
  答えを出力せよ。
</p>

<h3>入力例</h3>
<div class="code">
  <div class="block">
  abcdaxayz
  </div>
</div>

<h3>出力例</h3>
<div class="code">
  <div class="block">
    7
  </div>
</div>
<!-- ! ---- A解説 ------- -->

<h3>- 解説 -</h3>
<div class="margin">
<h3>問題文の要約</h3>
<p>
  最後に $a$ が現れるのは何番目か<br>
  $\Rightarrow$ 反転して最初から何番目かを文字列の長さから引く
</p>
<h3>Code</h3>
<pre class="line-numbers">
<code class="language-python">S = list(input())

if "a" in S:
    S.reverse()
    idx = S.index('a')
    print(len(S)-idx)
else:
    print(-1)</code>
</div>

<!-- ! ---------- B問題 -------------- -->

<div class = "change"></div>

<div class="new">
  <div class="dt">
    <a id = "B" href="https://atcoder.jp/contests/abc276/tasks/abc276_b" target="_blank">
      B - Adjacency List
      <i class="fa-sharp fa-solid fa-link"></i></a>
    <span class="icon-tl icon">TLE</span>
  </div>
</div>

<h3>- 問題 -</h3>
<p class="ques">
 $1,…,N $と番号付けられた $N$ 個の都市と、都市間を結ぶ $M$ 本の道路があります。<br>
 $i\:(1≤i≤M)$ 番目の道路は都市 $A_i$ と都市 $B_i$を結んでいます。<br>
 以下の指示に従い、$N$ 行にわたって出力してください。<br>
 <p class="margin f_large">
  都市 $i\:(1≤i≤N)$ と道路で直接結ばれた都市が $d_i$ 個あるとし、それらを昇順に都市 $a_{i,1},...,a_{i,d_i}$ とおく。<br>
  $i\:(1≤i≤N)$ 行目には、$d_i+1$ 個の整数 $d_i,a_{i,1},...,a_{i,d_i}$ を、この順番で空白区切りで出力せよ。
</p>
</p>

<h3>制約</h3>
<p class="ques">
  $2≤N≤10^5$<br>
  $1≤M≤10^5$<br>
  $1≤A_i≤B_i≤N\:(1≤i≤M)$<br>
  $(i \neq j)$ ならば $(A_i,B_i) \neq (A_j,B_j)$<br>
  入力される値は全て整数
</p>

<h3>入力</h3>
<p class="ques">入力は以下の形式で標準入力から与えられる。</p>
<div class="code">
  $N \quad M$<br>
  $A_1 \quad B_1$<br>
  $\vdots$<br>
  $A_M \quad B_M$<br>
</div>

<h3>出力</h3>
<p class="ques">
  問題文の指示に従い、$N$ 行にわたって出力せよ。
</p>

<h3>入力例</h3>
<div class="code">
  <div class="block">
  6 6<br>
  3 6<br>
  1 3<br>
  5 6<br>
  2 5<br>
  1 2<br>
  1 6<br>
  </div>
</div>

<h3>出力例</h3>
<div class="code">
  <div class="block">
  3 2 3 6<br>
  2 1 5<br>
  2 1 6<br>
  0<br>
  2 2 6<br>
  3 1 3 5<br>
  </div>
</div>

<!-- ! ---- B解説 ------- -->
<h3>- 解説 -</h3>
<div class="margin">
<h3>問題文の要約</h3>
<p>
  $A,B$ のどちらかの配列に $i$ があるとき、他方の配列にはなにがありますか。<br>
  $i$ に対応する他方の配列にある数(上記)を昇順で出力してください。
</p>

<h3>Code [TLE]</h3>
<pre class = "line-numbers"><code class="language-python">N,M = map(int,input().split())
 
A = []
B = []
 
for i in range(M):
    a,b = map(int,input().split())
    A.append(a)
    B.append(b)
 
for j in range(N):
    j += 1
    pos = [B[i] for i in range(len(A)) if A[i]==j]
    pos += [A[i] for i in range(len(B)) if B[i]==j]
    pos.sort()
    L=[str(a) for a in pos]
    L = ' '.join(L)
    print(len(pos),L)</code></pre>

<h3>実装上の説明</h3>
<p>
  $A,B\:$ $2$ つの配列を作ると $2$ つの配列を参照することになりますので、とても計算量が増えてしまいます。<br>
  最初から $i$ に対応する $N$ 個の配列を作っておき、そこに各 $i$ に対応する他方の配列にある数を格納していきます。<br>
  $N$ 個の配列を作るのは述べたように計算量が大きくなりますので,ある配列の中に $N$ 個の配列を格納する2次元配列を用いることとします。<br>
</p>
<h3>Code [AC]</h3>
<pre class = "line-numbers"><code class="language-python">N,M = map(int,input().split())
 
Arr = []
for i in range(N):
    Arr.append([])
 
for i in range(M):
    a,b = map(int,input().split())
    Arr[a-1].append(b)
    Arr[b-1].append(a)
 
for j in Arr:
    print(len(j),*sorted(j))</code></pre>
</div>

<!-- ! ---------- C問題 -------------- -->

<div class = "change"></div>

<div class="new">
  <div class="dt">
    <a id = "C" href="https://atcoder.jp/contests/abc276/tasks/abc276_c" target="_blank">
      C - Counting Squares
      <i class="fa-sharp fa-solid fa-link"></i>
    </a>
      <span class="icon icon-wa">WA</span>
    </div>
</div>
<h3>- 問題 -</h3>
<p class="ques">
  二次元平面があります。$1$ 以上 $9$ 以下の整数 $r,c$ について、$S_r$ 
  の $c$ 番目の文字が <span class="back">#</span> であるとき座標 $(r,c)$ 
  にポーンが置いてあり、$S$ の $c$ 番目の文字が <span class="back">.</span> 
  であるとき座標 $(r,c)$ に何も置かれていません。<br>

  この平面上の正方形であって、$4$ 頂点全てにポーンが置いてあるものの個数を求めてください。
</p>

<h3>制約</h3>
<p class="ques">
  $S_1,S_2,...,S_9$ はそれぞれ
   <span class="back">#</span> と
   <span class="back">.</span> からなる長さ $9$ の文字列
</p>

<h3>入力</h3>
<p class="ques">入力は以下の形式で標準入力から与えられる。</p>
<div class="code">
  $S_1$<br>
  $S_2$<br>
  $\vdots$<br>
  $S_9$<br>
</div>

<h3>出力</h3>
<p class="ques">
  答えを出力せよ。
</p>

<h3>入力例</h3>
<div class="code">
  <div class="block">
    ##.......<br>
    ##.......<br>
    .........<br>
    .......#.<br>
    .....#...<br>
    ........#<br>
    ......#..<br>
    .........<br>
    .........<br>
  </div>
</div>

<h3>出力例</h3>
<div class="code">
  <div class="block">
    2
  </div>
</div>

<!-- ! ---- C解説 ------- -->
<h3>- 解説 -</h3>
<div class="margin">
<h3>問題文の要約</h3>
<p>
  <span class="back">#</span> を頂点とする正方形は何個ありますか？<br>
  ここで判定するポイントとしては $2$ 個の頂点が決まった時点で残りの頂点は決まります。その個所に
   <span class="back">#</span> があるのかどうかを調べます。<br>
  全ての座標において説明するのは難しいので、以下は <span class="back">#</span> が $4$ 個であり、
  即ち、正方形が $1$ この場合について説明します。 <br>
  $1$ 個目の <span class="back">#</span> の座標を $(x_1,y_1)$ <br>
  $n$ 個目の <span class="back">#</span> の座標を $(x_n,y_n)\quad (1 \leq n \leq 4)$ <br>
  $1$ 個目の <span class="back">#</span> の座標と 
  $2$ 個目の <span class="back">#</span> の座標の差を $(\Delta x,\Delta y)$ と表すこととします。<br>
  <span class="gray-text">$\:\Leftrightarrow (\Delta x,\Delta y) = (x_2,y_2) - (x_1,y_1)$</span><br><br>
  したがって、求めるのは以下です。<br>
  <p class="f_large margin">
    $(x_1,y_1)$
    $\stackrel{\text{def}}{=} (x,y)$<br>
    $s.t. (x,y) =$ <span class="back">#</span><br><br>

    $\alpha : \: (x_2,y_2)$
    $=(x_1 + \Delta x,y_1 + \Delta y)$
    $=$ <span class="back">#</span><br>
    $\beta  : \: (x_3,y_3)$
    $=(x_1 - \Delta y,y_1 + \Delta x)$
    $=$ <span class="back">#</span><br>
    $\gamma : \: (x_4,y_4)$
    $=(x_1 - \Delta y + \Delta x,y_1 + \Delta x + \Delta y)$
    $= $ <span class="back">#</span><br><br>

    $\alpha \land \beta \land \gamma$ を満たすとき, $(x_n,y_n) = $ <span class="back">#</span> を頂点とする正方形であるといえる。<br>

  </p>

</p>

<h3>Code [WA]</h3>
<pre class = "line-numbers"><code class="language-python">arr = []  #入力を格納する配列
for i in range(9):
    arr.append(input())
 
ans = 0   #条件を満たした正方形の個数

for i in range(9):
    for j in range(9):
        if arr[i][j] == "#":
            break_bool = False
            x1 = i
            y1 = j
            for y in range(y1,9):
                for x in range(9):  #↓(x_1,y_1)よりも右下を探索 => (x_1,x_2)までは探索しない
                    if y == y1 and x <= x1:
                        continue
                    if arr[x][y] == "#":  #(x_2,y_2) = #
                        dx = x - x1
                        dy = y - x2
                        break_bool = True
                        break
                if break_bool:
                    break
            if not break_bool:
                break
            
            try:
                if arr[x1 + dx][y1 + dy] == "#":
                    if arr[x1 - dy][y1 + dx] == "#":
                        if arr[x1 - dy + dx][y1 + dy + dx] == "#":
                            ans += 1
            except IndexError:
                break
 
print(ans)
</code></pre>
</div>
<br>
<div class="margin">
  <h3>なぜ間違えたのですか?</h3>
<p>
  $(x_1,y_1)$ を頂点とする正方形は1つだけではないのです...
</p>
</div>

<!-- ! ---------- D問題 -------------- -->

<div class = "change"></div>

<div class="new">
  <div class="dt">
    <a id = "D" href = "https://atcoder.jp/contests/abc276/tasks/abc276_d" target="_blank">
      D - Yet Another Recursive Function
      <i class="fa-sharp fa-solid fa-link"></i>
    </a>
    <span class="icon-tl icon">TLE</span>
  </div>
</div>

<h3>- 問題 -</h3>
<p class="ques">
  非負整数 $x$ に対し定義される関数 $f(x)$ は以下の条件を満たします。<br>
</p>
<p class="margin f_large">
  $f(0) = 1$<br>
  任意の正整数 $k$ に対し 
  $f(k)=f({\large \lfloor \frac{k}{2} \rfloor} ) + f({\large \lfloor \frac{k}{3} \rfloor })$<br>
</p>
<p class="ques">
  ここで、$\lfloor A \rfloor$ は $A$ の小数点以下を切り捨てた値を指します。<br>
  このとき、 $f(N)$ を求めてください。<br>
</p>

<h3>制約</h3>
<p class="ques">
  $0\leq N\leq 10^{18}$<br>
  $N \in \mathbb{Z}$<br>
</p>

<h3>入力</h3>
<p class="ques">入力は以下の形式で標準入力から与えられる。</p>
<div class="code">
  $N$<br>
</div>

<h3>出力</h3>
<p class="ques">
  答えを出力せよ。
</p>

<h3>入力例</h3>
<div class="code">
  <div class="block">
    2
  </div>
</div>

<h3>出力例</h3>
<div class="code">
  <div class="block">
    3
  </div>
</div>

<!-- ! ---- D解説 ------- -->
<h3>- 解説 -</h3>
<div class="margin">
<h3>問題文の要約</h3>
<p>
  全ての項が$f(0)$になるまで関数を呼び出して計算してください。
</p>

<h3>そんな膨大な計算量どうすればいいですか</h3>
<p>
  メモ化を使うといいです。<br>
  関数の引数に関数があり、その引数にも関数が、、このような構造、現象のことを再帰といいます。<br>
  再帰をする問題ではよくメモ化と呼ばれる手法が出てきます。<br>
  メモ化というのは一度計算した値をメモしておくことで計算量を劇的に削減する手法のことです。<br>
  例としてはフィボナッチ数列の計算にも用いられています。<br>
</p>

<h3>Code</h3>
<pre><code class="language-python">None
</code></pre>

<h3>言い訳</h3>
<p>
  問題を見たときには残り10分を切っており、メモ化という手法自体は知っていたものの、
  実装するのには間に合いませんでした。<br>
  CよりDが簡単で、AよりBが簡単だと、、、、<br>
  問題を解く際はすべて目を通してから解けるものから解くという高校受験的な何かを思い出しました。。。<br>
  同じ2完だったけど良くなったとは思います。<br><br>

  おわり。
</p>
</div>

</section>

<!------------/Another------------>

<section>
<h2><span class="accent">A</span>nother <span class="accent">C</span>ontest</h2>
<div class="new an">

  <div class="dt"><a href="acc_276.html">ABC 276</a><span class="icon">2022/10/29</span></div>
  <div class="dt"><a href="acc_274.html">ABC 274</a><span class="icon">2022/10/22</span></div>

</div>
</section>

</main>


<!------------Menu-bar------------>

<div id="menubar">

  <nav>
    <ul>
      <li class="null"> </li>
      <li><a href="../index.html">TOP</a></li>
      <li class="current"><a href="index.html">AtCoder記録簿<br></a></li>
      <li><a href="../offer/offer.html">有明高専コン研<br>部員募集中！！</a></li>
    </ul>
  </nav>

</div>


<!------------/Menu-bar------------>

<footer>
  <small>Copyleft <span id="copy-left">&copy;</span><a href="../index.html"><span> Arcsec</span> from Ariake-NCT
    </a></small>
</footer>

</div>

<!------------Import JQuery------------>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  MathJax = {
    "HTML-CSS": {
      matchFontHeight: false,
      EqnChunk: 50,
    },
    tex: {
      inlineMath: [['$', '$']]
    }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script src="../js/main.js"></script>

</body>

</html>